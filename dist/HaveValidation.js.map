{"version":3,"sources":["../dist-es6/HaveValidation.js"],"names":["HaveValidation","args","addErrors","errors","validations","Object","keys","forEach","context","propName","validate","data","error","sameErrorIndex","findIndex","e","errorMsg","push","addError","length"],"mappings":";;;;;;;;;;IAAqBA,c;AACjB,4BAAYC,IAAZ,EAAkB;AAAA;;AACd,YAAI,CAACA,IAAL,EACIA,OAAO,EAAP;AACJ,aAAKC,SAAL,CAAeD,KAAKE,MAApB;AACH;;;;iCACQC,W,EAAaH,I,EAAM;AAAA;;AACxBI,mBAAOC,IAAP,CAAYF,WAAZ,EAAyBG,OAAzB,CAAiC,oBAAY;AACzC,oBAAMC,UAAUJ,YAAYK,QAAZ,EAAsBC,QAAtB,CAA+B;AAC3CC,0BAAMV,KAAKQ,QAAL,CADqC;AAE3CA;AAF2C,iBAA/B,CAAhB;AAIAR,qBAAKQ,QAAL,IAAiBD,QAAQG,IAAzB;AACA,sBAAKT,SAAL,CAAeM,QAAQL,MAAvB;AACH,aAPD;AAQA,mBAAOF,IAAP;AACH;;;iCACQW,K,EAAO;AACZ,gBAAIA,SAAS,IAAb,EACI;AACJ,gBAAMC,iBAAiB,KAAKV,MAAL,CAClBW,SADkB,CACR;AAAA,uBAAKC,EAAEN,QAAF,KAAeG,MAAMH,QAArB,IACbM,EAAEC,QAAF,KAAeJ,MAAMI,QADb;AAAA,aADQ,CAAvB;AAGA,gBAAI,EAAEH,kBAAkB,CAApB,CAAJ,EACI,KAAKV,MAAL,CAAYc,IAAZ,CAAiBL,KAAjB;AACP;;;kCACST,M,EAAQ;AAAA;;AACd,gBAAI,KAAKA,MAAL,IAAe,IAAnB,EACI,KAAKA,MAAL,GAAc,EAAd;AACJ,gBAAIA,UAAU,IAAd,EACI;AACJA,mBAAOI,OAAP,CAAe;AAAA,uBAAS,OAAKW,QAAL,CAAcN,KAAd,CAAT;AAAA,aAAf;AACH;;;kCACS;AACN,mBAAO,CAAC,KAAKT,MAAN,IAAgB,KAAKA,MAAL,CAAYgB,MAAZ,KAAuB,CAA9C;AACH;;;;;;kBAnCgBnB,c;QAqCZA,c,GAAAA,c;AACT","file":"HaveValidation.js","sourcesContent":["export default class HaveValidation {\n    constructor(args) {\n        if (!args)\n            args = {};\n        this.addErrors(args.errors);\n    }\n    validate(validations, args) {\n        Object.keys(validations).forEach(propName => {\n            const context = validations[propName].validate({\n                data: args[propName],\n                propName\n            });\n            args[propName] = context.data;\n            this.addErrors(context.errors);\n        });\n        return args;\n    }\n    addError(error) {\n        if (error == null)\n            return;\n        const sameErrorIndex = this.errors\n            .findIndex(e => e.propName === error.propName\n            && e.errorMsg === error.errorMsg);\n        if (!(sameErrorIndex >= 0))\n            this.errors.push(error);\n    }\n    addErrors(errors) {\n        if (this.errors == null)\n            this.errors = [];\n        if (errors == null)\n            return;\n        errors.forEach(error => this.addError(error));\n    }\n    isValid() {\n        return !this.errors || this.errors.length === 0;\n    }\n}\nexport { HaveValidation };\n//# sourceMappingURL=HaveValidation.js.map"]}